{"ast":null,"code":"var _jsxFileName = \"/Users/martinadams/Desktop/FLO-OIP projects/DDX/oip-ddx-light/frontend/components/views/dumb/registerForm/RegisterForm.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport withStyles from 'react-jss'; //import { useHistory } from \"react-router-dom\";\n\nimport Link from \"next/link\";\nimport Alert from \"../../../shared/Alert\";\n\nconst styles = theme => ({\n  root: {\n    position: 'absolute',\n    top: '10%',\n    left: '40%'\n  },\n  signUpButton: {\n    marginTop: 10,\n    backgroundColor: '#e7e7e7',\n    padding: '8px 32px',\n    borderRadius: '4px',\n    transform: 'translateX(15%)'\n  },\n  inputField: {\n    marginTop: 6\n  }\n});\n\nconst RegisterForm = ({\n  classes\n}) => {\n  //var location = useHistory();\n\n  /**************************STATE SECTION************************/\n  //**Display Name States */\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: usernameErrorMessage,\n    1: setUsernameErrorMessage\n  } = useState(\"\"); //**Password States */\n\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: password2,\n    1: setPassword2\n  } = useState(\"\");\n  const {\n    0: passErrorMessage,\n    1: setPassErrorMessage\n  } = useState(\"\"); //**Email States */\n\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: reEmail,\n    1: setReEmail\n  } = useState(\"\");\n  const {\n    0: emailErrorMessage,\n    1: setEmailErrorMessage\n  } = useState(\"\"); //**Mnemonic States */\n\n  const {\n    0: mnemonic,\n    1: setMnemonic\n  } = useState(\"\");\n  const {\n    0: reg_success,\n    1: setRegSuccess\n  } = useState(false);\n\n  const validateForm = e => {\n    if (email !== reEmail) {\n      setEmailErrorMessage(\"Emails do not match!\");\n      setUsernameErrorMessage(\"\");\n    } else if (password !== password2) {\n      setEmailErrorMessage(\"\");\n      setPassErrorMessage(\"Passwords do not match!\");\n    } else {\n      setPassErrorMessage(\"\");\n      sendUser();\n    }\n  };\n\n  const sendUser = () => {\n    fetch(\"http://localhost:5000/api/users/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        displayName: username,\n        email: email,\n        password: password,\n        mnemonic: mnemonic\n      })\n    }).then(response => response.json()).then(message => {\n      if (message.error) {\n        setUsernameErrorMessage(message.error);\n      }\n\n      if (message.success) {\n        setUsernameErrorMessage(\"\");\n        setPassErrorMessage(`User Created, redirecting to dashboard...`);\n        setRegSuccess(true); // walletData();\n\n        setTimeout(() => {\n          setRegSuccess(false);\n          location.push(\"/\");\n        }, 5000);\n      }\n    });\n  };\n  /*\n  const sendUser = async () => {\n    try {\n      //const response = await fetch(\"http://localhost:5000/api/users/signup\", {\n      const response = await fetch(\"/user/signup\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          displayName: username,\n          email: email,\n          password: password,\n          password2: password,\n        }),\n      });\n      const data = await response.json();\n       console.log(data)\n     } catch (err) {\n      console.log(\"onLogin error\" + err);\n    }\n  };\n  */\n\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    validateForm(e);\n  };\n  /*************The placeholders are fontawesome unicode, allows them to show in the placeholder field *****************/\n\n  /*************Password fields get set to state to compare before submit*/\n\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"signup-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"log-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"row align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"logForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"Sign Up\"), __jsx(\"form\", {\n    onSubmit: onFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    required: true,\n    placeholder: \"Username\",\n    className: \"form-control\",\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, usernameErrorMessage.length > 0 ? __jsx(Alert, {\n    content: usernameErrorMessage,\n    setAlert: () => {\n      setUsernameErrorMessage(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }) : null), __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    required: true,\n    placeholder: \"Email\",\n    className: \"form-control\",\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    required: true,\n    placeholder: \"Confirm Email\",\n    className: \"form-control\",\n    onChange: e => {\n      setReEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, emailErrorMessage.length > 0 ? __jsx(Alert, {\n    content: emailErrorMessage,\n    setAlert: () => {\n      setEmailErrorMessage(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 25\n    }\n  }) : null), __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    required: true,\n    type: \"password\",\n    placeholder: \"Password\",\n    className: \"form-control\",\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    required: true,\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    className: \"form-control\",\n    onChange: e => {\n      setPassword2(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }, passErrorMessage.length > 0 ? __jsx(Alert, {\n    content: passErrorMessage,\n    setAlert: () => {\n      setPassErrorMessage(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 25\n    }\n  }) : null), __jsx(\"div\", {\n    className: classes.inputField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    type: \"mnemonic\",\n    placeholder: \"Mnemonic (optional)\",\n    className: \"form-control\",\n    onChange: e => {\n      setMnemonic(e.target.value);\n      localStorage.setItem('mnemonic', e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 23\n    }\n  })), __jsx(\"button\", {\n    className: classes.signUpButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, \"Sign Up\")), __jsx(\"div\", {\n    className: \"log-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  })))))), reg_success ? __jsx(\"div\", {\n    className: \"thanks-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"thanks-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"thank-you-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, \"Thank you for registering \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 45\n    }\n  }, \" \", username), \"!\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 19\n    }\n  }), \"An email has been sent to \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 45\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, email)), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, \"Please verify your email address to continue.\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, \"You will now be redirected to the\", __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }, \" Login Page\"))))) : null));\n};\n\nRegisterForm.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles, {\n  injectTheme: true\n})(RegisterForm);","map":{"version":3,"sources":["/Users/martinadams/Desktop/FLO-OIP projects/DDX/oip-ddx-light/frontend/components/views/dumb/registerForm/RegisterForm.js"],"names":["React","useState","PropTypes","withStyles","Link","Alert","styles","theme","root","position","top","left","signUpButton","marginTop","backgroundColor","padding","borderRadius","transform","inputField","RegisterForm","classes","username","setUsername","usernameErrorMessage","setUsernameErrorMessage","password","setPassword","password2","setPassword2","passErrorMessage","setPassErrorMessage","email","setEmail","reEmail","setReEmail","emailErrorMessage","setEmailErrorMessage","mnemonic","setMnemonic","reg_success","setRegSuccess","validateForm","e","sendUser","fetch","method","headers","body","JSON","stringify","displayName","then","response","json","message","error","success","setTimeout","location","push","onFormSubmit","preventDefault","target","value","length","localStorage","setItem","propTypes","object","isRequired","injectTheme"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport withStyles from 'react-jss'\n\n//import { useHistory } from \"react-router-dom\";\n\nimport Link from \"next/link\";\nimport Alert from \"../../../shared/Alert\";\n\nconst styles = theme => ({\n  root: {\n    position: 'absolute',\n    top: '10%',\n    left: '40%'\n  },\n  signUpButton: {\n    marginTop: 10,\n    backgroundColor: '#e7e7e7',\n    padding: '8px 32px',\n    borderRadius: '4px',\n    transform: 'translateX(15%)'\n  },\n  inputField: {\n    marginTop: 6\n  },\n})\n\nconst RegisterForm = ({\n  classes,\n}) => {\n  //var location = useHistory();\n  /**************************STATE SECTION************************/\n  //**Display Name States */\n  const [username, setUsername] = useState(\"\");\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState(\"\");\n\n  //**Password States */\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [passErrorMessage, setPassErrorMessage] = useState(\"\");\n\n  //**Email States */\n  const [email, setEmail] = useState(\"\");\n  const [reEmail, setReEmail] = useState(\"\");\n  const [emailErrorMessage, setEmailErrorMessage] = useState(\"\");\n\n  //**Mnemonic States */\n  const [mnemonic, setMnemonic] = useState(\"\");\n\n  const [reg_success, setRegSuccess] = useState(false);\n\n  const validateForm = (e) => {\n    if (email !== reEmail) {\n      setEmailErrorMessage(\"Emails do not match!\");\n      setUsernameErrorMessage(\"\");\n    } else if (password !== password2) {\n      setEmailErrorMessage(\"\");\n      setPassErrorMessage(\"Passwords do not match!\");\n    } else {\n      setPassErrorMessage(\"\");\n      sendUser();\n    }\n  };\n\n  const sendUser = () => {\n    fetch(\"http://localhost:5000/api/users/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        displayName: username,\n        email: email,\n        password: password,\n        mnemonic: mnemonic\n      }),\n    })\n      .then((response) => response.json())\n      .then((message) => {\n        if (message.error) {\n          setUsernameErrorMessage(message.error);\n        }\n        if (message.success) {\n          setUsernameErrorMessage(\"\");\n          setPassErrorMessage(`User Created, redirecting to dashboard...`);\n          setRegSuccess(true);\n          // walletData();\n          setTimeout(() => {\n            setRegSuccess(false);\n            location.push(\"/\");\n          }, 5000);\n        }\n      });\n  };\n  /*\n  const sendUser = async () => {\n    try {\n      //const response = await fetch(\"http://localhost:5000/api/users/signup\", {\n      const response = await fetch(\"/user/signup\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          displayName: username,\n          email: email,\n          password: password,\n          password2: password,\n        }),\n      });\n      const data = await response.json();\n\n      console.log(data)\n\n    } catch (err) {\n      console.log(\"onLogin error\" + err);\n    }\n  };\n  */\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    validateForm(e);\n  };\n\n  /*************The placeholders are fontawesome unicode, allows them to show in the placeholder field *****************/\n  /*************Password fields get set to state to compare before submit*/\n  return (\n    <div className={classes.root}>\n      {/*  */}\n      <div className=\"wrapper\">\n        <div className=\"signup-wrap\">\n          <div className=\"log-container\">\n            <div className=\"row align-items-center\">\n              <div className=\"col-12\">\n                <div className=\"logForm\">\n                  \n                  <h2>Sign Up</h2>\n\n                  <form onSubmit={onFormSubmit}>\n                    <div className={classes.inputField}>\n                      <input\n                        required\n                        placeholder=\"Username\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setUsername(e.target.value);\n                        }}\n                      />\n                    </div>\n                    <div>\n                      {usernameErrorMessage.length > 0 ? (\n                        <Alert\n                          content={usernameErrorMessage}\n                          setAlert={() => {\n                            setUsernameErrorMessage(\"\");\n                          }}\n                        />\n                      ) : null}\n                    </div>\n                    <div className={classes.inputField}>\n                      <input\n                        required\n                        placeholder=\"Email\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setEmail(e.target.value);\n                        }}\n                      />\n                    </div>\n                    <div className={classes.inputField}>\n                      <input\n                        required\n                        placeholder=\"Confirm Email\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setReEmail(e.target.value);\n                        }}\n                      />\n                    </div>\n                    <div>\n                      {emailErrorMessage.length > 0 ? (\n                        <Alert\n                          content={emailErrorMessage}\n                          setAlert={() => {\n                            setEmailErrorMessage(\"\");\n                          }}\n                        />\n                      ) : null}\n                    </div>\n                    <div className={classes.inputField}>\n                      <input\n                        required\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setPassword(e.target.value);\n                        }}\n                      />\n                    </div>\n                    <div className={classes.inputField}>\n                      <input\n                        required\n                        type=\"password\"\n                        placeholder=\"Confirm Password\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setPassword2(e.target.value);\n                        }}\n                      />\n                    </div>\n                    <div>\n                      {passErrorMessage.length > 0 ? (\n                        <Alert\n                          content={passErrorMessage}\n                          setAlert={() => {\n                            setPassErrorMessage(\"\");\n                          }}\n                        />\n                      ) : null}\n                    </div>\n                    <div className={classes.inputField}>\n                      <input\n                        type=\"mnemonic\"\n                        placeholder=\"Mnemonic (optional)\"\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setMnemonic(e.target.value);\n                          localStorage.setItem('mnemonic', e.target.value)\n                        }}\n                      />\n                    </div>\n    \n                    <button className={classes.signUpButton}>Sign Up</button>\n                  </form>\n                  <div className=\"log-footer\">\n                    \n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {reg_success ? (\n          <div className=\"thanks-popup\">\n            <div className=\"thanks-content\">\n            \n              <div className=\"thank-you-msg\">\n                <p>\n                  Thank you for registering <span> {username}</span>!\n                  <br />\n                  An email has been sent to <br />\n                  <span>{email}</span>\n                </p>\n                <p>Please verify your email address to continue.</p>\n                <p>\n                  You will now be redirected to the\n                  <a href=\"#\"> Login Page</a>\n                </p>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nRegisterForm.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles, { injectTheme: true }) (RegisterForm);"]},"metadata":{},"sourceType":"module"}